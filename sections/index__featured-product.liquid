
{% assign block = section.settings %}
{% assign featuredProduct = false %}
{% for product in collections.all.products %}
  {% if product.handle == block.product %}
    {% assign featuredProduct = product %}
    {% break %}
  {% endif %}
{% endfor %}
<div class="block-rel block-oh">
  <div class="grid grid--f flex row-wrap align-center justify-center block-rel">
    <div class="block-6/12 cell-l cell-r row--l  @mobile-mobile__block-12/12">
      {% render 'lazy_img', _image:block.image , size:'1024' %}
    </div>
    <div class="block-6/12 cell-l cell-r row--l  @mobile-mobile__block-12/12">
      <div class="block-9/12 block-c @mobile-tablet__block-11/12 @mobile-mobile__block-12/12">
        <h2 class="h-style h1-style row--s">{{block.heading}}</h2>
        <div class="flex row-wrap align-center justify-space row--m">
          <h3 class="h-style h3-style t-accent">{{featuredProduct.title}}</h3>
          <span>**** reviews</span>
        </div>
        <div class="rte-content row--m">
          <p>{{block.paragraph}}</p>
        </div>
        <div class="block-6/12 @mobile-mobile__block-12/12">
          <a href="{{featuredProduct.url}}" class="btn btn--accent block-12/12 d-iblock">{{ 'general.view_product' | t }}</a>
        </div> 
      </div>
    </div>
  </div>
</div>

{% schema %}
{ 
  
  "name":"index/featured-product",
 
  "settings":[ 
    { 
      "type":"select",
      "id":"layout",
      "label":"layout",
      "default":"image-right",
      "options":[ 
        { 
          "value":"image-left",
          "label":"image left"
        },
        { 
          "value":"image-right",
          "label":"image right"
        }
      ]
    },
   
    { 
      "type":"image_picker",
      "id":"image",
      "label":"image"
    },
 
    { 
      "type":"text",
      "id":"heading",
      "label":"heading"
    },
    { 
      "type":"textarea",
      "id":"paragraph",
      "label":"paragraph"
    },
    { 
      "type":"product",
      "id":"product",
      "label":"product"
    }
  
  ]
}
{% endschema %}
